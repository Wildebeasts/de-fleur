# De Fleur - E-commerce Frontend

This project is the frontend application for the De Fleur e-commerce platform, showcasing a modern web development stack. It was initially based on the [ReactJS Vite TailwindCSS Boilerplate](https://github.com/joaopaulomoraes/reactjs-vite-tailwindcss-boilerplate) but has been significantly extended.

## Overview

De Fleur is a feature-rich online store specializing in skincare products. This frontend provides a seamless user experience for browsing products, managing accounts, taking a skincare quiz for personalized recommendations, playing an integrated game, and completing the checkout process. It also includes dedicated interfaces for Admin and Staff roles.

## Key Features

* **E-commerce:** Product listing, detailed views, shopping cart, checkout process with shipping calculation (GHN API integration), coupon application, and order history/tracking.
* **User Authentication:** Login, registration, password reset functionality.
* **Role-Based Access:** Separate protected routes and interfaces for regular users, Staff, and Admins.
* **Skincare Quiz:** Interactive quiz to determine skin type and provide personalized product/routine recommendations.
* **Unity WebGL Integration:** Features an embedded "Stick Hero" game where users can potentially earn points.
* **Account Management:** User profile viewing/editing, order history, coupon management.
* **Admin Dashboard:** Management interfaces for products, users, orders, coupons, batches, blogs, and reports.
* **Staff Dashboard:** Interface for walk-in orders, order tracking, event management, and coupon creation.
* **Mobile Responsiveness:** Dedicated components and layouts for mobile devices (`MobileWrapper`, `MobileHeader`, specific mobile pages).
* **UI & UX:** Built with Shadcn UI, Ant Design, animations using Framer Motion, and toast notifications with Sonner.
* **Blog Section:** Displays articles related to skincare.
* **Modern Tooling:** Vite build tool, TypeScript, Tailwind CSS for styling.

## Tech Stack

* **Framework/Library:** React 18
* **Build Tool:** Vite
* **Language:** TypeScript
* **Routing:** TanStack Router (File-based routing)
* **Data Fetching/State Management:** TanStack Query (React Query)
* **Styling:** Tailwind CSS
* **UI Components:** Shadcn UI, Ant Design
* **HTTP Client:** Axios
* **Animations:** Framer Motion
* **Notifications:** Sonner
* **Date Handling:** date-fns, dayjs
* **JWT Handling:** jwt-decode
* **Unity Integration:** react-unity-webgl
* **State Management (Context):** React Context API (Auth, Delivery, Quiz Results, etc.)
* **Linting/Formatting:** ESLint, Prettier
* **Testing:** Vitest, Testing Library (as per original boilerplate)

## Project Structure

* `public/unity-build/`: Contains the built Unity game assets.
* `src/`: Main application source code.
  * `assets/`: Static assets like images and logos.
  * `components/`: Reusable UI components.
    * `ui/`: Components generated by Shadcn UI.
    * `Auth/`: Authentication-related components (Protected Routes).
    * `Blog/`, `Cart/`, `Quiz/`, `Staff/`, `Store/`, etc.: Feature-specific components.
  * `hooks/`: Custom React hooks (e.g., `use-mobile`).
  * `lib/`: Core logic, services, context, types, utils.
    * `api/`: Axios client setup and error handling.
    * `constants/`: Application constants (e.g., order status).
    * `context/`: React Context providers (Auth, Delivery, etc.).
    * `hooks/`: Application-specific hooks (e.g., `useAuth`).
    * `services/`: API service definitions (e.g., `cosmeticApi`, `orderApi`).
    * `types/`: TypeScript type definitions.
    * `utils/`: Utility functions.
  * `pages/`: Page components, often grouped by feature or section.
  * `routes/`: TanStack Router file-based route definitions.
  * `styles/`: Global and specific CSS files (e.g., `mobile.css`).
  * `main.tsx`: Application entry point.
  * `routeTree.gen.ts`: Auto-generated route tree by TanStack Router.

### Core
- [React 18](https://reactjs.org) - Frontend library
- [TypeScript](https://www.typescriptlang.org) - Type safety
- [Vite](https://vitejs.dev) - Build tool and dev server

### Prerequisites

* Node.js (LTS version recommended)
* pnpm (or npm/yarn)

### Installation

1. **Clone the repository:**

    ```bash
    git clone <repository-url>
    cd de-fleur
    ```

2. **Install dependencies:**

    ```bash
    pnpm install
    ```

    *(If you prefer npm or yarn, use `npm install` or `yarn install`)*

### Running Locally

1. **Start the development server:**

    ```bash
    pnpm run dev
    ```

    This will start the Vite development server, typically available at `http://localhost:5173`. The server supports Hot Module Replacement (HMR).

## Available Scripts

* `pnpm run dev`: Starts the development server.
* `pnpm run build`: Compiles TypeScript and builds the application for production in the `dist/` folder.
* `pnpm run serve`: Serves the production build locally for preview.
* `pnpm run test`: Runs tests using Vitest.
* `pnpm run test:ui`: Runs tests with the Vitest UI.
* `pnpm run lint`: Lints the codebase using ESLint.
* `pnpm run typecheck`: Performs TypeScript type checking without emitting files.
* `pnpm run start`: Alias for `pnpm run dev`.

## Configuration

* **Vite:** `vite.config.ts` - Build tool configuration, plugins, server settings (including CORS headers for development).
* **TypeScript:** `tsconfig.json` - TypeScript compiler options, path aliases (`@/*`).
* **Tailwind CSS:** `tailwind.config.mjs` - Tailwind utility classes, theme customization, plugins (`tailwindcss-animate`).
* **Shadcn UI:** `components.json` - Configuration for the Shadcn UI CLI.

## Deployment

1. Run `pnpm run build`.
2. Deploy the contents of the generated `dist/` folder to your hosting provider.
3. Ensure your server is configured to handle Single Page Application (SPA) routing (i.e., redirect all non-asset requests to `index.html`).
4. Ensure the server correctly serves the Unity build files (`.data`, `.wasm`, `.framework.js`, `.loader.js`) from the `public/unity-build` directory with appropriate headers if needed (though Vite's config attempts to handle CORS).

## License

This project is licensed under the MIT License.
